# 操作系统可视化实验平台 

 一个基于PyQt6的操作系统可视化实验平台，用于直观展示操作系统核心概念和算法的工作原理。 

 ## 功能特点 

 - 进程管理可视化：展示进程的创建、状态转换和生命周期 
 - 调度算法模拟：支持FCFS、RR、Priority和SJF等调度算法 
 - 进程同步与通信：包含信号量、共享内存等IPC机制的可视化 
 - 实时操作系统(RTOS)模拟：展示任务调度和中断处理的可视化展示 
 - 内存管理：内存分配和页面置换算法的动态演示 

 ## 界面组成 

 1. **列表视图**：以表格形式展示进程详细信息（PID、状态、到达时间等） 
 2. **状态转换图**：可视化展示进程在不同状态间的转换 
 3. **调度甘特图与分析**：展示CPU调度过程，并提供性能指标分析 
 4. **IPC可视化**：包括消息队列和共享内存的交互演示 
 5. **信号量可视化**：展示读者-写者问题等同步机制 
 6. **内存管理**：内存分配和页面置换算法的动态演示 
 7. **RTOS模拟**：实时操作系统任务调度和中断处理 

 ## 安装与运行 

 ### 前置要求 

 - Python 3.8+ 
 - pip（Python包管理工具） 

 ### 安装依赖 

 ```bash 
 pip install -r requirements.txt 
 ``` 

 ### 启动程序 

 ```bash 
 python main.py 
 ``` 

 **提示**：程序启动后会自动初始化并生成 10 个测试进程，以便您快速查看各模块的可视化效果。 

 ## ⚙️ 核心功能模块 

 ### 1. 进程管理 
 - **进程创建**：支持自动生成测试进程或手动创建单个进程，模拟进程的创建过程。 
 - **状态转换**：实时可视化展示进程在新建(NEW)、就绪(READY)、运行(RUNNING)、阻塞(BLOCKED)和终止(TERMINATED)五种状态间的转换。 
 - **属性跟踪**：详细记录和显示进程的关键属性，包括PID、到达时间、总需时间、剩余时间、优先级、等待时间等。 
 - **多CPU支持**：支持多核心CPU环境下的进程调度与状态管理，可在界面上清晰区分不同核心上运行的进程。 

 ### 2. 调度算法模拟 
 提供多种经典调度策略的动态演示与性能对比： 

 - **FCFS (先来先服务)**：按照进程到达的顺序进行调度，实现简单但可能导致较长的平均等待时间。 
 - **RR (时间片轮转)**：为每个进程分配固定的时间片，时间片用完后进程被抢占并放回就绪队列末尾。 
 - **Priority (优先级调度)**：根据进程的优先级值进行调度，优先级高的进程优先获得CPU资源。 
 - **SJF (短作业优先)**：优先调度剩余执行时间最短的进程，能有效减少平均等待时间。 

 每种算法运行时都会实时更新甘特图，并在运行结束后生成包含CPU利用率、平均等待时间、平均周转时间等关键指标的性能分析报告。 

 ### 3. 进程同步与通信 (IPC) 

 - **消息队列**：可视化展示进程间通过消息队列进行通信的过程，包括消息的发送、接收和队列管理。 
 - **共享内存**：通过动态可视化模型展示多个进程如何安全地读写同一块物理内存区域，支持实时观察内存访问状态。 
 - **信号量机制**：以图形化方式演示信号量的P/V操作，直观展示如何解决读者-写者问题等经典同步问题，避免资源竞争和死锁。 

 ### 4. 实时操作系统 (RTOS) 模拟 

 - **任务管理**：支持创建和管理具有不同优先级的RTOS任务，实时展示任务的状态变化。 
 - **优先级抢占**：可视化演示高优先级任务如何抢占低优先级任务的CPU资源，实现实时响应。 
 - **中断处理**：完整模拟外部硬件中断的触发、中断服务程序(ISR)的执行、上下文切换和中断返回的全过程。 
 - **寄存器模拟**：实时展示CPU寄存器(如R0-R12、SP、LR、PC)的值变化，帮助理解上下文切换的实现细节。 
 - **内核分析**：提供RTOS内核运行状态的实时跟踪和分析，包括任务切换历史、中断处理时间等关键指标。 

 ### 5. 内存管理 

 - **动态内存分配**：支持三种经典的内存分配算法： 
   - First Fit (首次适应)：从内存起始位置开始查找第一个足够大的空闲块 
   - Best Fit (最佳适应)：查找最小的足够大的空闲块以减少内存碎片 
   - Worst Fit (最坏适应)：查找最大的空闲块以增加内存利用的灵活性 

 - **页面置换算法**：模拟虚拟内存管理中的页面置换机制： 
   - FIFO (先进先出)：置换最早进入内存的页面 
   - LRU (最近最少使用)：置换最近访问时间最早的页面 
   - OPT (最佳置换)：根据未来页面访问情况预测并置换最久不会被使用的页面 

 - **内存状态可视化**：实时展示内存块的分配状态、空闲块合并、页表映射关系和页面访问历史，帮助理解内存管理的工作原理。 

 ## 开发架构 
 - **前端界面**：基于 PyQt6 构建，采用 MVC (模型-视图-控制器) 设计模式，实现逻辑与显示分离。 
 - **核心逻辑**：采用模块化设计，各功能算法模块相互独立，便于按需调用。 
 - **数据管理**：统一的系统状态管理机制，确保多窗口下的数据实时一致性。
